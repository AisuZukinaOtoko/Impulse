<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../stylesheets/managecarwash.css">
    <link rel="stylesheet" href="../stylesheets/bookcarwash.css">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <title>managecarwash</title>
</head>
<body>

    <nav class="horizontalNavbar">
        <h1 id="name">impulse.</h1>
        <article class="horNavButtons">
            <ul>
                <li class="navButton">Home</li>
               <li class="navButton"><a href="bookcarwash.html">Book car wash</a></li> 
               <li class="navButton"><a href="bookmeals.html">Book meal</a></li>
               <li class="navButton"><a href="../homepage/timesheet.html" >Timesheet</a></li>
            </ul>
        </article>
    </nav>

    <nav class="verticalNavbar">
        <article>
            <ul>
                <li><a href="#"><img src="../assets/ProfileIcon.svg" alt="Profile Icon" /></a></li>
                <li><a href="#"><img src="../assets/SettingsIcon.svg" alt="Settings Icon"/></a></li>
                <li><a href="/logout/"><img src="../assets/LogoutIcon.svg" alt="LogoutIcon"></a></li>
            </ul>
           
        </article>
    </nav>

    <main class="Table">

        <section class="booklist">
            <h2  id="AllBookings">All Bookings</h2>
            <table id="main_table">
                <thead>
                    <tr>
                        <th>Email</th>
                        <th>Date</th>
                        <th>Slot</th>
                        <th>Model</th>
                    </tr>
                </thead>
    
                <tbody class="main_tbody">
                    <!-- inputs must be stored here -->
                </tbody>
    
            </table>
        </form>
            <br>  
            <button id="export-btn" class = "Button">Export as PDF</button>
    
        </section>

    <section class="wrapper">
        <article class="container-calendar">
            <article id="left">
                <h1>Manage Car wash</h1>
                <article id="event-section">
                    <h3>Add Slots</h3>
                    <input type="date" id="eventDate">
                    <input type="text"
                        id="eventTitle"
                        placeholder="Event Title">
                    <input type="text"
                        id="eventDescription"
                        placeholder="Event Description">
                    <button id="addEvent" onclick="addEvent()">
                        Add
                    </button>
                </article>
                <article id="reminder-section">
                    <h3>slots</h3>
                    <!-- List to display reminders -->
                    <ul id="reminderList">
                        <li data-event-id="1">
                            <strong>Event Title</strong>
                            - Event Description on Event Date
                            <button class="delete-event"
                                onclick="deleteEvent(1)">
                                Delete
                            </button>
                        </li>
                    </ul>
                </article>
            </article>
            <article id="right">
                <h3 id="monthAndYear"></h3>
                <article class="button-container-calendar">
                    <button id="previous"
                            onclick="previous()">
                          ‹
                      </button>
                    <button id="next"
                            onclick="next()">
                          ›
                      </button>
                </article>
                <table class="table-calendar"
                       id="calendar"
                       data-lang="en">
                    <thead id="thead-month"></thead>
                    <!-- Table body for displaying the calendar -->
                    <tbody id="calendar-body"></tbody>
                </table>
                <article class="footer-container-calendar">
                    <label for="month">Jump To: </label>
                    <!-- Dropdowns to select a specific month and year -->
                    <select id="month" onchange="jump()">
                        <option value=0>Jan</option>
                        <option value=1>Feb</option>
                        <option value=2>Mar</option>
                        <option value=3>Apr</option>
                        <option value=4>May</option>
                        <option value=5>Jun</option>
                        <option value=6>Jul</option>
                        <option value=7>Aug</option>
                        <option value=8>Sep</option>
                        <option value=9>Oct</option>
                        <option value=10>Nov</option>
                        <option value=11>Dec</option>
                    </select>
                    <!-- Dropdown to select a specific year -->
                    <select id="year" onchange="jump()"></select>
                </article>
            </article>
        </article>

        
    </section>
    
    <br>
    <br>
    <button id="export-btn" class = "Button">View camera</button>

    <script src="../js_files/managecarwash.js"></script>
    <script src="../js_files/bookcarwash.js"></script>
    <script src="../js_files/html2pdf.bundle.js"></script>
    <script type="text/javascript">

        document.getElementById('export-btn').onclick = function(){
        const element = document.getElementById('main_table');

        const opt = {
            margin: 0.5,
            filename: 'Timesheet',
            image: {type: 'jpeg', quality: 0.98 },
            html2pdfcanvas: {scale: 2},
            jsPDF: {unit: 'in', format:'letter', orientation: 'portrait'}
        };

        html2pdf().from(element).set(opt).save();

        };
    </script>

</body>
</html>