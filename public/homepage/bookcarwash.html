<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../stylesheets/bookcarwash.css">
    <title>Document</title>
</head>
<body>
    
    <main class="Table">
    <section class="welcome_bar">
        <img src="/assets/Book-a-car-wash-5-18-2024 (1).gif" alt="Image">
        </section>

        <section class="table_body">
            <form method="POST" name="form1">
                        <table id="add_table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Available slots</th>
                                    <th>Start-time</th>
                                    <th>End-time</th>
                                    <th class="hidden">Duration</th>
                                    <th>vehicle type</th>
                                    <th>vehicle model</th>
                                    
                                </tr>
                            </thead>
                            <tbody class="t_body">
                                
                               <tr>
                                    <td ><input id="date_col" type="date"></td>
                                    <td ><input id="availableslots_col" type="text"></td>
                                    <td ><input id="start_col" type="time"></td>
                                    <td ><input id="end_col" type="time" ></td>
                                    <td><input id="vehicletype_col" class="vehicletype_col" type="text"></td>
                                    <td><input id="vehiclemodel_col" class="vehiclemodel_col" type="text"></td>
                                    
                                </tr>
                            </tbody>
                        </table>
                        <br>
                        <input id="saveButton" type="button" class="Button" value="Save" onclick="saveRow()">
                    </section>

                    <section class="bookings">
                        <table id="main_table">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>Date</th>
                                    <th>slot</th>
                                    <th>Start-time</th>
                                    <th>End-time</th>
                                    <th>vehicle type</th>
                                    <th>vehicle model</th>
                                    <th>Duration</th>
                                    
                                </tr>
                            </thead>
            
                            <tbody class="main_tbody">
                                <!-- inputs must be stored here -->
                            </tbody>
            
                        </table>
                    </form>
                        <br>  
                        <input type = button class = "Button" id="selRows" value = "Select Rows" onclick = ShowSelButtons()>  
                        <input type = button class = "Button hidden" id="delSelRowsBtn" value = "Delete selected rows" onclick = delRow()> 
                        <input type = button class = "Button hidden" id="selButton" value = "Select All" onclick = selAll()> 
                        <input type = button class = "Button hidden" id="deselButton" value = "Deselect All" onclick = deselAll()> 
                        <button id="export-btn" class = "Button">Export as PDF</button>
            
                    

                    </section>

        <script src="../js_files/bookcarwash.js"></script>
        <script src="../js_files/html2pdf.bundle.js"></script>
        <script type="text/javascript">

            document.getElementById('export-btn').onclick = function(){
            const element = document.getElementById('main_table');

            const opt = {
                margin: 0.5,
                filename: 'Timesheet',
                image: {type: 'jpeg', quality: 0.98 },
                html2pdfcanvas: {scale: 2},
                jsPDF: {unit: 'in', format:'letter', orientation: 'portrait'}
            };

            html2pdf().from(element).set(opt).save();

            };
        </script>
</body>
</html>